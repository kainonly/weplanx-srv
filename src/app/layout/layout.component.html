<nz-layout class="main-layout">
  <nz-header>
    <div class="logo">
      <a href="#"> <img src="/assets/weplanx.png" alt="weplanx" /> WePlanx </a>
    </div>
    <ul class="nav" nz-menu nzMode="horizontal">
      <li nz-menu-item nzMatchRouter>
        <a [routerLink]="['/home']">
          <i nz-icon nzType="laptop"></i>
          <b>工作区</b>
        </a>
      </li>
      <li nz-menu-item nzMatchRouter>
        <a [routerLink]="['/projects']">
          <i nz-icon nzType="project"></i>
          <b>所有项目</b>
        </a>
      </li>
    </ul>
    <nz-space class="extra">
      <button
        *nzSpaceItem
        nz-button
        nzType="text"
        nz-popover
        nzPopoverTitle="消息通知"
        [nzPopoverContent]="notification"
        nzPopoverPlacement="bottomRight"
      >
        <ng-template #notification>
          <nz-empty></nz-empty>
        </ng-template>
        <i nz-icon nzType="notification"></i>
      </button>
      <div
        *nzSpaceItem
        class="center"
        nz-dropdown
        nzPlacement="bottomRight"
        [nzDropdownMenu]="center"
      >
        <nz-badge [nzCount]="0" style="margin-right: 24px">
          <nz-avatar [nzSrc]="'/assets/user.jpg'" [nzShape]="'square'"></nz-avatar>
        </nz-badge>
        <nz-dropdown-menu #center>
          <ul nz-menu>
            <li nz-menu-item nzDisabled>
              <div class="user-detail">
                <nz-avatar [nzSize]="64" [nzSrc]="'/assets/user.jpg'"></nz-avatar>
                <nz-space [nzSize]="2" nzDirection="vertical">
                  <nz-tag *nzSpaceItem nzColor="blue">团队管理员</nz-tag>
                  <h4 *nzSpaceItem>kain</h4>
                </nz-space>
              </div>
            </li>
            <li nz-menu-item>
              <i nz-icon nzType="idcard"></i>
              <span>帐号设置</span>
            </li>
            <li nz-submenu nzTitle="切换语言" nzIcon="translation" nzDisabled>
              <ul>
                <li nz-menu-item><span>中文</span></li>
                <li nz-menu-item><span>English</span></li>
              </ul>
            </li>
            <li nz-menu-divider></li>
            <li nz-menu-item nzDisabled>
              <i nz-icon nzType="select"></i>
              <span>系统公告</span>
            </li>
            <li nz-menu-item nzDisabled>
              <i nz-icon nzType="smile"></i>
              <span>问题反馈</span>
            </li>
            <li nz-menu-item>
              <i nz-icon nzType="logout"></i>
              <span>退出</span>
            </li>
          </ul>
        </nz-dropdown-menu>
      </div>
    </nz-space>
    <div class="clearfix"></div>
  </nz-header>
  <nz-layout>
    <nz-sider *ngIf="siderOn" class="sider" nzTheme="light" nzWidth="240px">
      <ng-container *ngTemplateOutlet="content.sider"></ng-container>
    </nz-sider>
    <nz-layout>
      <nz-page-header *ngIf="pageHeaderOn" [nzTitle]="title" [nzGhost]="false">
        <nz-breadcrumb
          *ngIf="content.breadcrumb.length !== 0"
          nz-page-header-breadcrumb
          nzSeparator=">"
        >
          <nz-breadcrumb-item>
            <a [routerLink]="['/']">
              <i nz-icon nzType="home"></i>
            </a>
          </nz-breadcrumb-item>
          <ng-container *ngFor="let item of content.breadcrumb; last as isLast">
            <nz-breadcrumb-item>
              <a [routerLink]="item?.routerlink" *ngIf="!isLast; else last">
                {{ item.name }}
              </a>
              <ng-template #last>
                {{ item.name }}
              </ng-template>
            </nz-breadcrumb-item>
          </ng-container>
        </nz-breadcrumb>
        <nz-page-header-extra>
          <ng-container *ngTemplateOutlet="content.extra"></ng-container>
        </nz-page-header-extra>
      </nz-page-header>
      <nz-content>
        <router-outlet></router-outlet>
      </nz-content>
    </nz-layout>
  </nz-layout>
</nz-layout>
